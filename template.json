{
  "index_html": "<!DOCTYPE html>\n<html>\n<head>\n    <title>MediaFlow IPTV Addon</title>\n    <style>\n        body { font-family: Arial, sans-serif; max-width: 650px; margin: 0 auto; padding: 20px; }\n        .header { text-align: center; margin-bottom: 30px; }\n        .form-group { margin-bottom: 20px; }\n        label { display: block; margin-bottom: 8px; font-weight: bold; }\n        input[type=\"text\"], input[type=\"password\"] { width: 100%; padding: 12px; font-size: 16px; border: 1px solid #ccc; border-radius: 4px; }\n        .btn { display: inline-block; padding: 12px 20px; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }\n        .btn:hover { background: #45a049; }\n        .result-section { margin-top: 30px; padding: 20px; background-color: #f8f8f8; border-radius: 8px; display: none; }\n        .install-btn { background: #2196F3; }\n        .install-btn:hover { background: #0b7dda; }\n        .url-display { word-break: break-all; padding: 10px; background: #eee; border-radius: 4px; margin: 15px 0; }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>MediaFlow IPTV Addon per Stremio</h1>\n        <p>Inserisci i dati di MediaFlow Proxy per generare il link di installazione</p>\n    </div>\n    \n    <div class=\"form-group\">\n        <label for=\"mediaflow_url\">URL MediaFlow Proxy:</label>\n        <input type=\"text\" id=\"mediaflow_url\" value=\"{{ default_url }}\" placeholder=\"es. mfp0bug.duckdns.org\">\n    </div>\n    \n    <div class=\"form-group\">\n        <label for=\"mediaflow_psw\">Password MediaFlow:</label>\n        <input type=\"password\" id=\"mediaflow_psw\" value=\"{{ default_psw }}\" placeholder=\"Password\">\n    </div>\n    \n    <button id=\"generateLink\" class=\"btn\">Genera Link di Installazione</button>\n    \n    <div id=\"resultSection\" class=\"result-section\">\n        <h3>Link generato!</h3>\n        <p>Ecco il link per installare l'addon in Stremio:</p>\n        <div id=\"generatedUrl\" class=\"url-display\"></div>\n        <a id=\"stremioLink\" href=\"#\">\n            <button class=\"btn install-btn\">Installa in Stremio</button>\n        </a>\n    </div>\n    \n    <script>\n        document.getElementById('generateLink').addEventListener('click', function() {\n            const mfpUrl = document.getElementById('mediaflow_url').value.trim();\n            const mfpPsw = document.getElementById('mediaflow_psw').value.trim();\n            \n            if (!mfpUrl || !mfpPsw) {\n                alert('Inserisci sia URL che password');\n                return;\n            }\n            \n            const domain = '{{ domain }}';\n            const encodedUrl = encodeURIComponent(mfpUrl);\n            const encodedPsw = encodeURIComponent(mfpPsw);\n            \n            // Usa il formato del percorso URL che Stremio si aspetta\n            const stremioLink = `stremio://${domain}/mfp/${encodedUrl}/psw/${encodedPsw}/manifest.json`;\n            \n            document.getElementById('stremioLink').href = stremioLink;\n            document.getElementById('generatedUrl').textContent = stremioLink;\n            document.getElementById('resultSection').style.display = 'block';\n        });\n    </script>\n</body>\n</html>"
}
